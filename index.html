<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Couple Income & Expense Tracker</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
  h2 { color: #333; }
  table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
  th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
  th { background: #eee; }
  input, select, button { padding: 5px; margin: 5px; }
  .dashboard { margin-top: 20px; }
</style>
</head>
<body>

<h2>Income & Expense Tracker</h2>

<h3>Add Entry</h3>
<form id="entryForm">
  <input type="date" id="date" required>
  <select id="person" required>
    <option value="Ahmed">Ahmed</option>
    <option value="Sara">Sara</option>
    <option value="Both">Both</option>
  </select>
  <select id="type" required>
    <option value="Income">Income</option>
    <option value="Expense">Expense</option>
  </select>
  <input type="text" id="category" placeholder="Category" required>
  <input type="text" id="description" placeholder="Description">
  <input type="number" id="amount" placeholder="Amount" required>
  <button type="submit">Add Entry</button>
</form>

<h3>Entries</h3>
<table id="entriesTable">
  <thead>
    <tr><th>Date</th><th>Person</th><th>Type</th><th>Category</th><th>Description</th><th>Amount</th></tr>
  </thead>
  <tbody></tbody>
</table>

<div class="dashboard">
<h3>Dashboard</h3>
<p>Total Income: <span id="totalIncome">0</span></p>
<p>Total Expense: <span id="totalExpense">0</span></p>
<p>Net Balance: <span id="netBalance">0</span></p>
</div>

<script>
let entries = JSON.parse(localStorage.getItem('entries')) || [];

function saveEntries() {
  localStorage.setItem('entries', JSON.stringify(entries));
}

function renderTable() {
  const tbody = document.querySelector('#entriesTable tbody');
  tbody.innerHTML = '';
  let totalIncome = 0;
  let totalExpense = 0;
  entries.forEach(e => {
    const row = document.createElement('tr');
    row.innerHTML = `<td>${e.date}</td><td>${e.person}</td><td>${e.type}</td><td>${e.category}</td><td>${e.description}</td><td>${e.amount}</td>`;
    tbody.appendChild(row);
    if(e.type === 'Income') totalIncome += parseFloat(e.amount);
    else totalExpense += parseFloat(e.amount);
  });
  document.getElementById('totalIncome').textContent = totalIncome;
  document.getElementById('totalExpense').textContent = totalExpense;
  document.getElementById('netBalance').textContent = totalIncome - totalExpense;
}

document.getElementById('entryForm').addEventListener('submit', e => {
  e.preventDefault();
  const newEntry = {
    date: document.getElementById('date').value,
    person: document.getElementById('person').value,
    type: document.getElementById('type').value,
    category: document.getElementById('category').value,
    description: document.getElementById('description').value,
    amount: document.getElementById('amount').value
  };
  entries.push(newEntry);
  saveEntries();
  renderTable();
  document.getElementById('entryForm').reset();
});

renderTable();
</script>

</body>
</html>
